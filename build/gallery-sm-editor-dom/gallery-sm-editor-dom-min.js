YUI.add("gallery-sm-editor-dom",function(e,t){var n={};n.inlineElements="b, em, i, span, strong, u",n.copyStyles=function(t,r,i,s){var o={},u=s&&s.explicit,a=s&&s.overwrite;t=e.one(t),r=e.one(r);if(!n.isElementNode(t)||!n.isElementNode(r))return;e.Array.each(i,function(e){var n=u?t._node.style[e]:t.getStyle(e);""!==n&&(a||""===r._node.style[e])&&(o[e]=n)}),r.setStyles(o)},n.getAncestorElement=function(e,t){function i(e){var n=e.get("tagName");return n&&t===n.toUpperCase()}var r;return"function"==typeof t?r=t:"string"==typeof t&&(t=t.toUpperCase(),r=i),e.ancestor(r||n.isElementNode,!0)},n.getStyledAncestor=function(e,t,n){return e.ancestor(function(e){return EDOM.isElementNode(e)?!!e._node.style[t]:!1},n,this.selectors.input)},n.isContainer=function(t){return t=e.one(t),!n.isTextNode(t)&&!n.isInlineElement(t)},n.isElementNode=function(t){return t=e.one(t),t._node&&1===t._node.nodeType},n.isEmptyNode=function(t){t=e.one(t);var n=t?t.get("text"):"";return/^[^\S ]*$/.test(n)},n.isInlineElement=function(t){return t=e.one(t),t&&t.test(n.inlineElements)},n.isTextNode=function(t){return t=e.one(t),t._node&&3===t._node.nodeType},n.maxOffset=function(t){return t=e.one(t),t.get("childNodes").size()||t.get("length")},n.replaceSpaces=function(e,t){return t||(t="\u00a0"),e.replace(/ /g,t)},n.split=function(t,r){var i=t.get("childNodes"),s;return t=e.one(t),r&&r._node?r=i.indexOf(r):r=parseInt(r,10),isNaN(r)||r<0||r>n.maxOffset(t)?t:n.isTextNode(t)?e.one(t._node.splitText(r)):(s=t.cloneNode(!1).append(i.splice(r)),t.insert(s,"after"),s)},n.unwrap=function(t){var r,i,s;return i=t.get("firstChild")||t,s=t.get("lastChild")||t,i.unwrap(),r=new e.Range,r.startNode(i),r.endNode(s,n.maxOffset(s)),r},e.namespace("Editor").DOM=n},"@VERSION@",{requires:["gallery-sm-range","node"]});
