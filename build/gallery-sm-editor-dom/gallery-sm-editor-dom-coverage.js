if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/gallery-sm-editor-dom/gallery-sm-editor-dom.js']) {
   __coverage__['build/gallery-sm-editor-dom/gallery-sm-editor-dom.js'] = {"path":"build/gallery-sm-editor-dom/gallery-sm-editor-dom.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0,0],"19":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":33},"end":{"line":1,"column":52}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":23},"end":{"line":33,"column":59}}},"3":{"name":"(anonymous_3)","line":45,"loc":{"start":{"line":45,"column":25},"end":{"line":45,"column":40}}},"4":{"name":"(anonymous_4)","line":65,"loc":{"start":{"line":65,"column":26},"end":{"line":65,"column":41}}},"5":{"name":"(anonymous_5)","line":83,"loc":{"start":{"line":83,"column":24},"end":{"line":83,"column":39}}},"6":{"name":"(anonymous_6)","line":102,"loc":{"start":{"line":102,"column":23},"end":{"line":102,"column":38}}},"7":{"name":"(anonymous_7)","line":120,"loc":{"start":{"line":120,"column":22},"end":{"line":120,"column":37}}},"8":{"name":"(anonymous_8)","line":139,"loc":{"start":{"line":139,"column":18},"end":{"line":139,"column":41}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":169,"column":60}},"2":{"start":{"line":18,"column":0},"end":{"line":18,"column":19}},"3":{"start":{"line":33,"column":0},"end":{"line":54,"column":2}},"4":{"start":{"line":34,"column":4},"end":{"line":36,"column":49}},"5":{"start":{"line":38,"column":4},"end":{"line":38,"column":23}},"6":{"start":{"line":39,"column":4},"end":{"line":39,"column":19}},"7":{"start":{"line":41,"column":4},"end":{"line":43,"column":5}},"8":{"start":{"line":42,"column":8},"end":{"line":42,"column":15}},"9":{"start":{"line":45,"column":4},"end":{"line":51,"column":7}},"10":{"start":{"line":46,"column":8},"end":{"line":46,"column":77}},"11":{"start":{"line":48,"column":8},"end":{"line":50,"column":9}},"12":{"start":{"line":49,"column":12},"end":{"line":49,"column":37}},"13":{"start":{"line":53,"column":4},"end":{"line":53,"column":28}},"14":{"start":{"line":65,"column":0},"end":{"line":69,"column":2}},"15":{"start":{"line":66,"column":4},"end":{"line":66,"column":23}},"16":{"start":{"line":68,"column":4},"end":{"line":68,"column":51}},"17":{"start":{"line":83,"column":0},"end":{"line":91,"column":2}},"18":{"start":{"line":84,"column":4},"end":{"line":84,"column":23}},"19":{"start":{"line":86,"column":4},"end":{"line":90,"column":5}},"20":{"start":{"line":87,"column":8},"end":{"line":87,"column":21}},"21":{"start":{"line":89,"column":8},"end":{"line":89,"column":83}},"22":{"start":{"line":102,"column":0},"end":{"line":106,"column":2}},"23":{"start":{"line":103,"column":4},"end":{"line":103,"column":23}},"24":{"start":{"line":105,"column":4},"end":{"line":105,"column":51}},"25":{"start":{"line":120,"column":0},"end":{"line":124,"column":2}},"26":{"start":{"line":121,"column":4},"end":{"line":121,"column":23}},"27":{"start":{"line":123,"column":4},"end":{"line":123,"column":63}},"28":{"start":{"line":139,"column":0},"end":{"line":163,"column":2}},"29":{"start":{"line":140,"column":4},"end":{"line":141,"column":18}},"30":{"start":{"line":143,"column":4},"end":{"line":143,"column":23}},"31":{"start":{"line":145,"column":4},"end":{"line":149,"column":5}},"32":{"start":{"line":146,"column":8},"end":{"line":146,"column":44}},"33":{"start":{"line":148,"column":8},"end":{"line":148,"column":38}},"34":{"start":{"line":151,"column":4},"end":{"line":153,"column":5}},"35":{"start":{"line":152,"column":8},"end":{"line":152,"column":20}},"36":{"start":{"line":155,"column":4},"end":{"line":162,"column":5}},"37":{"start":{"line":156,"column":8},"end":{"line":156,"column":51}},"38":{"start":{"line":158,"column":8},"end":{"line":158,"column":76}},"39":{"start":{"line":159,"column":8},"end":{"line":159,"column":40}},"40":{"start":{"line":161,"column":8},"end":{"line":161,"column":25}},"41":{"start":{"line":166,"column":0},"end":{"line":166,"column":38}}},"branchMap":{"1":{"line":35,"type":"binary-expr","locations":[{"start":{"line":35,"column":19},"end":{"line":35,"column":26}},{"start":{"line":35,"column":30},"end":{"line":35,"column":46}}]},"2":{"line":36,"type":"binary-expr","locations":[{"start":{"line":36,"column":20},"end":{"line":36,"column":27}},{"start":{"line":36,"column":31},"end":{"line":36,"column":48}}]},"3":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":4},"end":{"line":41,"column":4}},{"start":{"line":41,"column":4},"end":{"line":41,"column":4}}]},"4":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":8},"end":{"line":41,"column":38}},{"start":{"line":41,"column":42},"end":{"line":41,"column":70}}]},"5":{"line":46,"type":"cond-expr","locations":[{"start":{"line":46,"column":32},"end":{"line":46,"column":54}},{"start":{"line":46,"column":57},"end":{"line":46,"column":76}}]},"6":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":8},"end":{"line":48,"column":8}},{"start":{"line":48,"column":8},"end":{"line":48,"column":8}}]},"7":{"line":48,"type":"binary-expr","locations":[{"start":{"line":48,"column":12},"end":{"line":48,"column":25}},{"start":{"line":48,"column":30},"end":{"line":48,"column":39}},{"start":{"line":48,"column":43},"end":{"line":48,"column":70}}]},"8":{"line":68,"type":"binary-expr","locations":[{"start":{"line":68,"column":11},"end":{"line":68,"column":21}},{"start":{"line":68,"column":25},"end":{"line":68,"column":50}}]},"9":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":4},"end":{"line":86,"column":4}},{"start":{"line":86,"column":4},"end":{"line":86,"column":4}}]},"10":{"line":86,"type":"binary-expr","locations":[{"start":{"line":86,"column":8},"end":{"line":86,"column":12}},{"start":{"line":86,"column":16},"end":{"line":86,"column":31}}]},"11":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":15},"end":{"line":89,"column":63}},{"start":{"line":89,"column":67},"end":{"line":89,"column":82}}]},"12":{"line":89,"type":"cond-expr","locations":[{"start":{"line":89,"column":41},"end":{"line":89,"column":57}},{"start":{"line":89,"column":60},"end":{"line":89,"column":62}}]},"13":{"line":105,"type":"binary-expr","locations":[{"start":{"line":105,"column":11},"end":{"line":105,"column":21}},{"start":{"line":105,"column":25},"end":{"line":105,"column":50}}]},"14":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":11},"end":{"line":123,"column":40}},{"start":{"line":123,"column":44},"end":{"line":123,"column":62}}]},"15":{"line":145,"type":"if","locations":[{"start":{"line":145,"column":4},"end":{"line":145,"column":4}},{"start":{"line":145,"column":4},"end":{"line":145,"column":4}}]},"16":{"line":145,"type":"binary-expr","locations":[{"start":{"line":145,"column":8},"end":{"line":145,"column":14}},{"start":{"line":145,"column":18},"end":{"line":145,"column":30}}]},"17":{"line":151,"type":"if","locations":[{"start":{"line":151,"column":4},"end":{"line":151,"column":4}},{"start":{"line":151,"column":4},"end":{"line":151,"column":4}}]},"18":{"line":151,"type":"binary-expr","locations":[{"start":{"line":151,"column":8},"end":{"line":151,"column":21}},{"start":{"line":151,"column":25},"end":{"line":151,"column":35}},{"start":{"line":151,"column":39},"end":{"line":151,"column":73}}]},"19":{"line":155,"type":"if","locations":[{"start":{"line":155,"column":4},"end":{"line":155,"column":4}},{"start":{"line":155,"column":4},"end":{"line":155,"column":4}}]}},"code":["(function () { YUI.add('gallery-sm-editor-dom', function (Y, NAME) {","","/*jshint expr:true, onevar:false */","","/**","Provides the `Editor.DOM` utility class.","","@module gallery-sm-editor","@submodule gallery-sm-editor-dom","**/","","/**","DOM utility methods for `Editor.Base`","","@class Editor.DOM","**/","","var EditorDOM = {};","","/**","Copies styles from a node to another node","@param {HTMLElement|Node} from","@param {HTMLElement|Node} to","@param {Array} styles","@param {Object} [options]","    @param {Boolean} [options.explicit=false] When set to `true` copy only","        explicitly set properties from the source node. IOW, don't use","        computedStyle.","    @param {Boolean} [options.overwrite=false] When set to `true`","        properties from the source node will overwrite the same property","        set on the destination node.","**/","EditorDOM.copyStyles = function(from, to, styles, options) {","    var newStyles = {},","        explicit = options && options.explicit,","        overwrite = options && options.overwrite;","","    from = Y.one(from);","    to = Y.one(to);","","    if (!EditorDOM.isElementNode(from) || !EditorDOM.isElementNode(to)) {","        return;","    }","","    Y.Array.each(styles, function(prop) {","        var newVal = explicit ? from._node.style[prop] : from.getStyle(prop);","","        if ('' !== newVal && (overwrite || '' === to._node.style[prop])) {","            newStyles[prop] = newVal;","        }","    });","","    to.setStyles(newStyles);","};","","","/**","Returns true if the given node is an element node, false otherwise","","@method isElementNode","@param {HTMLNode|Node} node","@return {Boolean} true if the given node is an element node, false otherwise","@static","**/","EditorDOM.isElementNode = function(node) {","    node = Y.one(node);","","    return node._node && 1 === node._node.nodeType;","};","","","/**","Returns true if the given node is empty","","Nodes containing only returns, tabs or linefeeds are considered empty","Nodes containing only whitespace or breaks (br) are not considered empty","","@method isEmptyNode","@param {HTMLNode|Node} node","@return {Boolean} true if the given node is a empty, false otherwise","@static","**/","EditorDOM.isEmptyNode = function(node) {","    node = Y.one(node);","","    if (node && node.test('br')) {","        return false;","    } else {","        return (/^[^\\S ]*$/).test(node ? node.get('text') : '') && !node.one('br');","    }","};","","","/**","Returns true if the given node is a text node, false otherwise","","@method isTextNode","@param {HTMLNode|Node} node","@return {Boolean} true if the given node is a text node, false otherwise","@static","**/","EditorDOM.isTextNode = function(node) {","    node = Y.one(node);","","    return node._node && 3 === node._node.nodeType;","};","","","/**","Returns the maximum offset of a given node as determined by the type of node.","","Element nodes will return the number of childNodes","Text nodes will return the length of the text","","@method maxOffset","@param {HTMLNode|Node} node","@return {Number} Number of child nodes or length of text","@static","**/","EditorDOM.maxOffset = function(node) {","    node = Y.one(node);","","    return node.get('childNodes').size() || node.get('length');","};","","","/**","Splits the given node at the specified offset","","@method split","@param {Node} node The node to split","@param {Number|Node} offset Position to split the node.","    For text nodes this is numerical offset, for element nodes can be a","    a number referencing a childNode of `node` or a childNode reference.","@returns {Node} Node reference to the node created after splitting. It will","    be the nextSibling of `node`. If offset is not valid, the original `node`","    is returned.","**/","EditorDOM.split = function(node, offset) {","    var childNodes = node.get('childNodes'),","        splitNode;","","    node = Y.one(node);","","    if (offset && offset._node) {","        offset = childNodes.indexOf(offset);","    } else {","        offset = parseInt(offset, 10);","    }","","    if (isNaN(offset) || offset < 0 || offset > EditorDOM.maxOffset(node)) {","        return node;","    }","","    if (EditorDOM.isTextNode(node)) {","        return Y.one(node._node.splitText(offset));","    } else {","        splitNode = node.cloneNode(false).append(childNodes.splice(offset));","        node.insert(splitNode, 'after');","","        return splitNode;","    }","};","","","Y.namespace('Editor').DOM = EditorDOM;","","","}, '@VERSION@', {\"requires\": [\"gallery-sm-range\", \"node\"]});","","}());"]};
}
var __cov_pMOVZVtN_PEtEbZX$medeA = __coverage__['build/gallery-sm-editor-dom/gallery-sm-editor-dom.js'];
__cov_pMOVZVtN_PEtEbZX$medeA.s['1']++;YUI.add('gallery-sm-editor-dom',function(Y,NAME){__cov_pMOVZVtN_PEtEbZX$medeA.f['1']++;__cov_pMOVZVtN_PEtEbZX$medeA.s['2']++;var EditorDOM={};__cov_pMOVZVtN_PEtEbZX$medeA.s['3']++;EditorDOM.copyStyles=function(from,to,styles,options){__cov_pMOVZVtN_PEtEbZX$medeA.f['2']++;__cov_pMOVZVtN_PEtEbZX$medeA.s['4']++;var newStyles={},explicit=(__cov_pMOVZVtN_PEtEbZX$medeA.b['1'][0]++,options)&&(__cov_pMOVZVtN_PEtEbZX$medeA.b['1'][1]++,options.explicit),overwrite=(__cov_pMOVZVtN_PEtEbZX$medeA.b['2'][0]++,options)&&(__cov_pMOVZVtN_PEtEbZX$medeA.b['2'][1]++,options.overwrite);__cov_pMOVZVtN_PEtEbZX$medeA.s['5']++;from=Y.one(from);__cov_pMOVZVtN_PEtEbZX$medeA.s['6']++;to=Y.one(to);__cov_pMOVZVtN_PEtEbZX$medeA.s['7']++;if((__cov_pMOVZVtN_PEtEbZX$medeA.b['4'][0]++,!EditorDOM.isElementNode(from))||(__cov_pMOVZVtN_PEtEbZX$medeA.b['4'][1]++,!EditorDOM.isElementNode(to))){__cov_pMOVZVtN_PEtEbZX$medeA.b['3'][0]++;__cov_pMOVZVtN_PEtEbZX$medeA.s['8']++;return;}else{__cov_pMOVZVtN_PEtEbZX$medeA.b['3'][1]++;}__cov_pMOVZVtN_PEtEbZX$medeA.s['9']++;Y.Array.each(styles,function(prop){__cov_pMOVZVtN_PEtEbZX$medeA.f['3']++;__cov_pMOVZVtN_PEtEbZX$medeA.s['10']++;var newVal=explicit?(__cov_pMOVZVtN_PEtEbZX$medeA.b['5'][0]++,from._node.style[prop]):(__cov_pMOVZVtN_PEtEbZX$medeA.b['5'][1]++,from.getStyle(prop));__cov_pMOVZVtN_PEtEbZX$medeA.s['11']++;if((__cov_pMOVZVtN_PEtEbZX$medeA.b['7'][0]++,''!==newVal)&&((__cov_pMOVZVtN_PEtEbZX$medeA.b['7'][1]++,overwrite)||(__cov_pMOVZVtN_PEtEbZX$medeA.b['7'][2]++,''===to._node.style[prop]))){__cov_pMOVZVtN_PEtEbZX$medeA.b['6'][0]++;__cov_pMOVZVtN_PEtEbZX$medeA.s['12']++;newStyles[prop]=newVal;}else{__cov_pMOVZVtN_PEtEbZX$medeA.b['6'][1]++;}});__cov_pMOVZVtN_PEtEbZX$medeA.s['13']++;to.setStyles(newStyles);};__cov_pMOVZVtN_PEtEbZX$medeA.s['14']++;EditorDOM.isElementNode=function(node){__cov_pMOVZVtN_PEtEbZX$medeA.f['4']++;__cov_pMOVZVtN_PEtEbZX$medeA.s['15']++;node=Y.one(node);__cov_pMOVZVtN_PEtEbZX$medeA.s['16']++;return(__cov_pMOVZVtN_PEtEbZX$medeA.b['8'][0]++,node._node)&&(__cov_pMOVZVtN_PEtEbZX$medeA.b['8'][1]++,1===node._node.nodeType);};__cov_pMOVZVtN_PEtEbZX$medeA.s['17']++;EditorDOM.isEmptyNode=function(node){__cov_pMOVZVtN_PEtEbZX$medeA.f['5']++;__cov_pMOVZVtN_PEtEbZX$medeA.s['18']++;node=Y.one(node);__cov_pMOVZVtN_PEtEbZX$medeA.s['19']++;if((__cov_pMOVZVtN_PEtEbZX$medeA.b['10'][0]++,node)&&(__cov_pMOVZVtN_PEtEbZX$medeA.b['10'][1]++,node.test('br'))){__cov_pMOVZVtN_PEtEbZX$medeA.b['9'][0]++;__cov_pMOVZVtN_PEtEbZX$medeA.s['20']++;return false;}else{__cov_pMOVZVtN_PEtEbZX$medeA.b['9'][1]++;__cov_pMOVZVtN_PEtEbZX$medeA.s['21']++;return(__cov_pMOVZVtN_PEtEbZX$medeA.b['11'][0]++,/^[^\S ]*$/.test(node?(__cov_pMOVZVtN_PEtEbZX$medeA.b['12'][0]++,node.get('text')):(__cov_pMOVZVtN_PEtEbZX$medeA.b['12'][1]++,'')))&&(__cov_pMOVZVtN_PEtEbZX$medeA.b['11'][1]++,!node.one('br'));}};__cov_pMOVZVtN_PEtEbZX$medeA.s['22']++;EditorDOM.isTextNode=function(node){__cov_pMOVZVtN_PEtEbZX$medeA.f['6']++;__cov_pMOVZVtN_PEtEbZX$medeA.s['23']++;node=Y.one(node);__cov_pMOVZVtN_PEtEbZX$medeA.s['24']++;return(__cov_pMOVZVtN_PEtEbZX$medeA.b['13'][0]++,node._node)&&(__cov_pMOVZVtN_PEtEbZX$medeA.b['13'][1]++,3===node._node.nodeType);};__cov_pMOVZVtN_PEtEbZX$medeA.s['25']++;EditorDOM.maxOffset=function(node){__cov_pMOVZVtN_PEtEbZX$medeA.f['7']++;__cov_pMOVZVtN_PEtEbZX$medeA.s['26']++;node=Y.one(node);__cov_pMOVZVtN_PEtEbZX$medeA.s['27']++;return(__cov_pMOVZVtN_PEtEbZX$medeA.b['14'][0]++,node.get('childNodes').size())||(__cov_pMOVZVtN_PEtEbZX$medeA.b['14'][1]++,node.get('length'));};__cov_pMOVZVtN_PEtEbZX$medeA.s['28']++;EditorDOM.split=function(node,offset){__cov_pMOVZVtN_PEtEbZX$medeA.f['8']++;__cov_pMOVZVtN_PEtEbZX$medeA.s['29']++;var childNodes=node.get('childNodes'),splitNode;__cov_pMOVZVtN_PEtEbZX$medeA.s['30']++;node=Y.one(node);__cov_pMOVZVtN_PEtEbZX$medeA.s['31']++;if((__cov_pMOVZVtN_PEtEbZX$medeA.b['16'][0]++,offset)&&(__cov_pMOVZVtN_PEtEbZX$medeA.b['16'][1]++,offset._node)){__cov_pMOVZVtN_PEtEbZX$medeA.b['15'][0]++;__cov_pMOVZVtN_PEtEbZX$medeA.s['32']++;offset=childNodes.indexOf(offset);}else{__cov_pMOVZVtN_PEtEbZX$medeA.b['15'][1]++;__cov_pMOVZVtN_PEtEbZX$medeA.s['33']++;offset=parseInt(offset,10);}__cov_pMOVZVtN_PEtEbZX$medeA.s['34']++;if((__cov_pMOVZVtN_PEtEbZX$medeA.b['18'][0]++,isNaN(offset))||(__cov_pMOVZVtN_PEtEbZX$medeA.b['18'][1]++,offset<0)||(__cov_pMOVZVtN_PEtEbZX$medeA.b['18'][2]++,offset>EditorDOM.maxOffset(node))){__cov_pMOVZVtN_PEtEbZX$medeA.b['17'][0]++;__cov_pMOVZVtN_PEtEbZX$medeA.s['35']++;return node;}else{__cov_pMOVZVtN_PEtEbZX$medeA.b['17'][1]++;}__cov_pMOVZVtN_PEtEbZX$medeA.s['36']++;if(EditorDOM.isTextNode(node)){__cov_pMOVZVtN_PEtEbZX$medeA.b['19'][0]++;__cov_pMOVZVtN_PEtEbZX$medeA.s['37']++;return Y.one(node._node.splitText(offset));}else{__cov_pMOVZVtN_PEtEbZX$medeA.b['19'][1]++;__cov_pMOVZVtN_PEtEbZX$medeA.s['38']++;splitNode=node.cloneNode(false).append(childNodes.splice(offset));__cov_pMOVZVtN_PEtEbZX$medeA.s['39']++;node.insert(splitNode,'after');__cov_pMOVZVtN_PEtEbZX$medeA.s['40']++;return splitNode;}};__cov_pMOVZVtN_PEtEbZX$medeA.s['41']++;Y.namespace('Editor').DOM=EditorDOM;},'@VERSION@',{'requires':['gallery-sm-range','node']});
