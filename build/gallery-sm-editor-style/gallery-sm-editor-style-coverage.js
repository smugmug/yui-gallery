if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/gallery-sm-editor-style/gallery-sm-editor-style.js']) {
   __coverage__['build/gallery-sm-editor-style/gallery-sm-editor-style.js'] = {"path":"build/gallery-sm-editor-style/gallery-sm-editor-style.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":35},"end":{"line":1,"column":54}}},"2":{"name":"(anonymous_2)","line":21,"loc":{"start":{"line":21,"column":1},"end":{"line":21,"column":12}}},"3":{"name":"(anonymous_3)","line":91,"loc":{"start":{"line":91,"column":10},"end":{"line":91,"column":22}}},"4":{"name":"(anonymous_4)","line":102,"loc":{"start":{"line":102,"column":12},"end":{"line":102,"column":24}}},"5":{"name":"(anonymous_5)","line":120,"loc":{"start":{"line":120,"column":12},"end":{"line":120,"column":30}}},"6":{"name":"(anonymous_6)","line":149,"loc":{"start":{"line":149,"column":15},"end":{"line":149,"column":27}}},"7":{"name":"(anonymous_7)","line":168,"loc":{"start":{"line":168,"column":17},"end":{"line":168,"column":45}}},"8":{"name":"hasStyles","line":174,"loc":{"start":{"line":174,"column":8},"end":{"line":174,"column":33}}},"9":{"name":"(anonymous_9)","line":175,"loc":{"start":{"line":175,"column":48},"end":{"line":175,"column":62}}},"10":{"name":"clean","line":180,"loc":{"start":{"line":180,"column":8},"end":{"line":180,"column":29}}},"11":{"name":"(anonymous_11)","line":190,"loc":{"start":{"line":190,"column":41},"end":{"line":190,"column":57}}},"12":{"name":"(anonymous_12)","line":226,"loc":{"start":{"line":226,"column":18},"end":{"line":226,"column":40}}},"13":{"name":"(anonymous_13)","line":286,"loc":{"start":{"line":286,"column":24},"end":{"line":286,"column":60}}},"14":{"name":"(anonymous_14)","line":287,"loc":{"start":{"line":287,"column":34},"end":{"line":287,"column":49}}},"15":{"name":"(anonymous_15)","line":311,"loc":{"start":{"line":311,"column":24},"end":{"line":311,"column":39}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":356,"column":97}},"2":{"start":{"line":21,"column":0},"end":{"line":353,"column":5}},"3":{"start":{"line":23,"column":0},"end":{"line":23,"column":24}},"4":{"start":{"line":25,"column":0},"end":{"line":349,"column":3}},"5":{"start":{"line":92,"column":8},"end":{"line":92,"column":39}},"6":{"start":{"line":93,"column":8},"end":{"line":93,"column":20}},"7":{"start":{"line":103,"column":8},"end":{"line":103,"column":41}},"8":{"start":{"line":104,"column":8},"end":{"line":104,"column":20}},"9":{"start":{"line":121,"column":8},"end":{"line":122,"column":17}},"10":{"start":{"line":124,"column":8},"end":{"line":138,"column":9}},"11":{"start":{"line":125,"column":12},"end":{"line":129,"column":13}},"12":{"start":{"line":126,"column":16},"end":{"line":128,"column":17}},"13":{"start":{"line":127,"column":20},"end":{"line":127,"column":69}},"14":{"start":{"line":131,"column":12},"end":{"line":131,"column":46}},"15":{"start":{"line":133,"column":12},"end":{"line":137,"column":13}},"16":{"start":{"line":134,"column":16},"end":{"line":136,"column":17}},"17":{"start":{"line":135,"column":20},"end":{"line":135,"column":66}},"18":{"start":{"line":140,"column":8},"end":{"line":140,"column":23}},"19":{"start":{"line":150,"column":8},"end":{"line":150,"column":44}},"20":{"start":{"line":151,"column":8},"end":{"line":151,"column":20}},"21":{"start":{"line":169,"column":8},"end":{"line":170,"column":47}},"22":{"start":{"line":172,"column":8},"end":{"line":172,"column":41}},"23":{"start":{"line":174,"column":8},"end":{"line":178,"column":9}},"24":{"start":{"line":175,"column":12},"end":{"line":177,"column":15}},"25":{"start":{"line":176,"column":16},"end":{"line":176,"column":61}},"26":{"start":{"line":180,"column":8},"end":{"line":200,"column":9}},"27":{"start":{"line":181,"column":12},"end":{"line":183,"column":13}},"28":{"start":{"line":182,"column":16},"end":{"line":182,"column":23}},"29":{"start":{"line":185,"column":12},"end":{"line":199,"column":13}},"30":{"start":{"line":187,"column":16},"end":{"line":187,"column":34}},"31":{"start":{"line":190,"column":16},"end":{"line":192,"column":19}},"32":{"start":{"line":191,"column":20},"end":{"line":191,"column":45}},"33":{"start":{"line":194,"column":16},"end":{"line":194,"column":49}},"34":{"start":{"line":196,"column":16},"end":{"line":198,"column":17}},"35":{"start":{"line":197,"column":20},"end":{"line":197,"column":38}},"36":{"start":{"line":202,"column":8},"end":{"line":202,"column":45}},"37":{"start":{"line":204,"column":8},"end":{"line":208,"column":9}},"38":{"start":{"line":205,"column":12},"end":{"line":205,"column":42}},"39":{"start":{"line":207,"column":12},"end":{"line":207,"column":47}},"40":{"start":{"line":210,"column":8},"end":{"line":210,"column":21}},"41":{"start":{"line":227,"column":8},"end":{"line":229,"column":34}},"42":{"start":{"line":231,"column":8},"end":{"line":233,"column":9}},"43":{"start":{"line":232,"column":12},"end":{"line":232,"column":80}},"44":{"start":{"line":235,"column":8},"end":{"line":237,"column":9}},"45":{"start":{"line":236,"column":12},"end":{"line":236,"column":19}},"46":{"start":{"line":241,"column":8},"end":{"line":241,"column":65}},"47":{"start":{"line":243,"column":8},"end":{"line":251,"column":9}},"48":{"start":{"line":247,"column":12},"end":{"line":247,"column":35}},"49":{"start":{"line":250,"column":12},"end":{"line":250,"column":45}},"50":{"start":{"line":253,"column":8},"end":{"line":264,"column":9}},"51":{"start":{"line":254,"column":12},"end":{"line":263,"column":13}},"52":{"start":{"line":259,"column":16},"end":{"line":259,"column":101}},"53":{"start":{"line":262,"column":16},"end":{"line":262,"column":49}},"54":{"start":{"line":266,"column":8},"end":{"line":266,"column":52}},"55":{"start":{"line":268,"column":8},"end":{"line":268,"column":44}},"56":{"start":{"line":270,"column":8},"end":{"line":270,"column":58}},"57":{"start":{"line":272,"column":8},"end":{"line":272,"column":37}},"58":{"start":{"line":287,"column":8},"end":{"line":296,"column":39}},"59":{"start":{"line":288,"column":12},"end":{"line":290,"column":13}},"60":{"start":{"line":289,"column":16},"end":{"line":289,"column":29}},"61":{"start":{"line":295,"column":12},"end":{"line":295,"column":48}},"62":{"start":{"line":312,"column":8},"end":{"line":314,"column":41}},"63":{"start":{"line":316,"column":8},"end":{"line":318,"column":9}},"64":{"start":{"line":317,"column":12},"end":{"line":317,"column":79}},"65":{"start":{"line":320,"column":8},"end":{"line":345,"column":9}},"66":{"start":{"line":321,"column":12},"end":{"line":321,"column":53}},"67":{"start":{"line":329,"column":12},"end":{"line":329,"column":84}},"68":{"start":{"line":331,"column":12},"end":{"line":336,"column":13}},"69":{"start":{"line":335,"column":16},"end":{"line":335,"column":64}},"70":{"start":{"line":340,"column":12},"end":{"line":340,"column":57}},"71":{"start":{"line":342,"column":12},"end":{"line":344,"column":13}},"72":{"start":{"line":343,"column":16},"end":{"line":343,"column":52}},"73":{"start":{"line":347,"column":8},"end":{"line":347,"column":21}},"74":{"start":{"line":351,"column":0},"end":{"line":351,"column":42}}},"branchMap":{"1":{"line":124,"type":"if","locations":[{"start":{"line":124,"column":8},"end":{"line":124,"column":8}},{"start":{"line":124,"column":8},"end":{"line":124,"column":8}}]},"2":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":16},"end":{"line":126,"column":16}},{"start":{"line":126,"column":16},"end":{"line":126,"column":16}}]},"3":{"line":134,"type":"if","locations":[{"start":{"line":134,"column":16},"end":{"line":134,"column":16}},{"start":{"line":134,"column":16},"end":{"line":134,"column":16}}]},"4":{"line":181,"type":"if","locations":[{"start":{"line":181,"column":12},"end":{"line":181,"column":12}},{"start":{"line":181,"column":12},"end":{"line":181,"column":12}}]},"5":{"line":185,"type":"if","locations":[{"start":{"line":185,"column":12},"end":{"line":185,"column":12}},{"start":{"line":185,"column":12},"end":{"line":185,"column":12}}]},"6":{"line":196,"type":"if","locations":[{"start":{"line":196,"column":16},"end":{"line":196,"column":16}},{"start":{"line":196,"column":16},"end":{"line":196,"column":16}}]},"7":{"line":204,"type":"if","locations":[{"start":{"line":204,"column":8},"end":{"line":204,"column":8}},{"start":{"line":204,"column":8},"end":{"line":204,"column":8}}]},"8":{"line":231,"type":"if","locations":[{"start":{"line":231,"column":8},"end":{"line":231,"column":8}},{"start":{"line":231,"column":8},"end":{"line":231,"column":8}}]},"9":{"line":235,"type":"if","locations":[{"start":{"line":235,"column":8},"end":{"line":235,"column":8}},{"start":{"line":235,"column":8},"end":{"line":235,"column":8}}]},"10":{"line":243,"type":"if","locations":[{"start":{"line":243,"column":8},"end":{"line":243,"column":8}},{"start":{"line":243,"column":8},"end":{"line":243,"column":8}}]},"11":{"line":243,"type":"binary-expr","locations":[{"start":{"line":243,"column":12},"end":{"line":243,"column":42}},{"start":{"line":244,"column":12},"end":{"line":244,"column":55}}]},"12":{"line":253,"type":"if","locations":[{"start":{"line":253,"column":8},"end":{"line":253,"column":8}},{"start":{"line":253,"column":8},"end":{"line":253,"column":8}}]},"13":{"line":254,"type":"if","locations":[{"start":{"line":254,"column":12},"end":{"line":254,"column":12}},{"start":{"line":254,"column":12},"end":{"line":254,"column":12}}]},"14":{"line":259,"type":"cond-expr","locations":[{"start":{"line":259,"column":79},"end":{"line":259,"column":95}},{"start":{"line":259,"column":98},"end":{"line":259,"column":100}}]},"15":{"line":262,"type":"binary-expr","locations":[{"start":{"line":262,"column":24},"end":{"line":262,"column":39}},{"start":{"line":262,"column":43},"end":{"line":262,"column":48}}]},"16":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":12},"end":{"line":288,"column":12}},{"start":{"line":288,"column":12},"end":{"line":288,"column":12}}]},"17":{"line":316,"type":"if","locations":[{"start":{"line":316,"column":8},"end":{"line":316,"column":8}},{"start":{"line":316,"column":8},"end":{"line":316,"column":8}}]},"18":{"line":320,"type":"if","locations":[{"start":{"line":320,"column":8},"end":{"line":320,"column":8}},{"start":{"line":320,"column":8},"end":{"line":320,"column":8}}]},"19":{"line":331,"type":"if","locations":[{"start":{"line":331,"column":12},"end":{"line":331,"column":12}},{"start":{"line":331,"column":12},"end":{"line":331,"column":12}}]},"20":{"line":342,"type":"if","locations":[{"start":{"line":342,"column":12},"end":{"line":342,"column":12}},{"start":{"line":342,"column":12},"end":{"line":342,"column":12}}]}},"code":["(function () { YUI.add('gallery-sm-editor-style', function (Y, NAME) {","","/*jshint expr:true, onevar:false */","","/**","Provides the `Editor.Style` extension.","","@module gallery-sm-editor","@submodule gallery-sm-editor-style","**/","","/**","Extension for `Editor.Base` that normalizes style commands into css properties","","@class Editor.Style","@constructor","@extends Base","@extensionfor Editor.Base","**/","","(function() {","","var EDOM = Y.Editor.DOM;","","var EditorStyle = Y.Base.create('editorStyle', Y.Base, [], {","    // -- Public Properties ----------------------------------------------------","","    /**","    Hash of style commands supported by this editor.","","    Names should correspond with valid `execCommand()` command names. Values","    are properties in the following format:","","    @property {Object} styleCommands","      @param {String} property The name of the CSS property in camelCase form","      @param {String} [valueOn] The `on` value of the property. eg. `bold`","      @param {String} [valueOff] The `off` value of the property. eg. `none`","    **/","    styleCommands: {","        bold: {","            property: 'fontWeight',","            valueOn: 'bold',","            valueOff: 'normal'","        },","","        fontName: {","            property: 'fontFamily'","        },","","        fontSize: {","            property: 'fontSize'","        },","","        italic: {","            property: 'fontStyle',","            valueOn: 'italic',","            valueOff: 'normal'","        },","","//        justifyCenter: {","//            property: 'textAlign',","//            value: 'center'","//        },","//","//        justifyLeft: {","//            property: 'textAlign',","//            value: 'left'","//        },","//","//        justifyRight: {","//            property: 'textAlign',","//            value: 'right'","//        },","","        underline: {","            property: 'textDecoration',","            valueOn: 'underline',","            valueOff: 'none'","        }","    },","","","    // -- Public Methods -------------------------------------------------------","","    /**","    Bolds or unbolds the current selection.","","    @method bold","    @chainable","    **/","    bold: function () {","        this.command('bold', 'toggle');","        return this;","    },","","    /**","    Italicizes or unitalicizes the current selection.","","    @method italic","    @chainable","    **/","    italic: function () {","        this.command('italic', 'toggle');","        return this;","    },","","    /**","    Gets and/or sets the values of multiple editor style commands.","","    When called without an argument, the current values of all supported style","    commands will be returned. When called with a _styles_ object, the specified","    style commands will be set to their given values, and the resulting new","    values will be returned.","","    @method styles","    @param {Object} [styles] Hash of style names and values to set.","    @return {Object} Hash of style names and values that were set, or all styles","        if no _styles_ parameter was specified.","    **/","    styles: function (styles) {","        var results = {},","            name;","","        if (styles) {","            for (name in styles) {","                if (styles.hasOwnProperty(name)) {","                    results[name] = this.command(name, styles[name]);","                }","            }","        } else {","            var commands = this.styleCommands;","","            for (name in commands) {","                if (commands.hasOwnProperty(name)) {","                    results[name] = this._queryCommandValue(name);","                }","            }","        }","","        return results;","    },","","    /**","    Toggles underline on the current selection.","","    @method underline","    @chainable","    **/","    underline: function () {","        this.command('underline', 'toggle');","        return this;","    },","","    // -- Protected Methods ----------------------------------------------------","","    /**","    Traverses the children of a given node, removing empty nodes and","    clearing out any given css properties","","    Note: rootNode may get destroyed during the cleaning process","","    @method _cleanNode","    @param {Range} range","    @param {String|Array} properties","    @return {Range}","    @protected","    **/","    _cleanRange: function(range, properties) {","        var rootNode = range.parentNode(),","            styleCommands = this.styleCommands;","","        properties = Y.Array(properties);","","        function hasStyles(node) {","            return Y.Object.some(styleCommands, function(cmd) {","                return '' !== node._node.style[cmd.property];","            });","        }","","        function clean(node) {","            if (!EDOM.isElementNode(node)) {","                return;","            }","","            if ('' === node.get('text')) {","                // the node is empty, remove it","                node.remove(true);","            } else {","                // clear out the properties","                Y.Array.each(properties, function(style) {","                    node.setStyle(style, '');","                });","","                node.get('children').each(clean);","","                if (!hasStyles(node)) {","                    EDOM.unwrap(node);","                }","            }","        }","","        rootNode.get('children').each(clean);","","        if (!hasStyles(rootNode)) {","            range = EDOM.unwrap(rootNode);","        } else {","            range.selectNodeContents(rootNode);","        }","","        return range;","    },","","","    /**","    Duckpunch Editor.Base._execCommand to build css styled nodes instead of","    relying on spotty browser compatibility of `styleWithCSS`","","    Passes through to Editor.Base for any commands not defined","    in `this.styleCommands`","","    @method _execCommand","    @param {String} name Command name.","    @param {Boolean|String} value Command value.","    @protected","    **/","    _execCommand: function(name, value) {","        var command = this.styleCommands[name],","            range = this.selection.range(),","            parentNode, styleNode;","","        if (!command) {","            return Y.Editor.Base.prototype._execCommand.call(this, name, value);","        }","","        if (!range) {","            return;","        }","","        // range.parentNode() may return a text node","        // so make sure we actually have an element","        parentNode = EDOM.getAncestorElement(range.parentNode());","","        if (parentNode !== this._inputNode &&","            parentNode.get('text') === range.toString()) {","            // if the entire text of a node is selected, just apply","            // styles to that node, as long as its not the input node","            styleNode = parentNode;","        } else {","            // otherwise, wrap the selection in a new node","            styleNode = range.wrap('<span>');","        }","","        if (this.boolCommands[name]) {","            if (this._queryCommandValue(name)) {","                // already set, disable","                // determine whether an ancestor has this property set","                // or not so we can simply unset the value instead of","                // setting it to `none` or `normal` or whatever","                value = this._getStyledAncestor(styleNode, command.property) ? command.valueOff : '';","            } else {","                // need to enable, set appropriate value","                value = command.valueOn || value;","            }","        }","","        styleNode.setStyle(command.property, value);","","        range.selectNodeContents(styleNode);","","        range = this._cleanRange(range, command.property);","","        this.selection.select(range);","    },","","    /**","    Walks the ancestor tree of a given node until a node that has","    the css property set is found","","    @method _getStyledAncestor","    @param {Node} startNode","    @param {String} property","    @param {Boolean} [self] Whether or not to include `startNode` in the scan","    @return {Node} The node having `property` set, or null if no node was found","    @protected","    **/","    _getStyledAncestor: function(startNode, property, self) {","        return startNode.ancestor(function(node) {","            if (!EDOM.isElementNode(node)) {","                return false;","            }","","            // don't use node.getStyle() because it will return","            // computedStyle for empty string values like `property: \"\"`","            // https://github.com/yui/yui3/blob/master/src/dom/js/dom-style.js#L106","            return !!node._node.style[property];","        }, self, this.selectors.input);","    },","","    /**","    Duckpunch Editor.Base _queryCommandValue to query the css properties of nodes","    instead of relying on spotty browser compatibility of `styleWithCSS`","","    Passes through to Editor.Base for any commands not defined","    in `this.styleCommands`","","    @method _queryCommandValue","    @param {String} name Command name.","    @return {Boolean|String} Command value.","    @protected","    **/","    _queryCommandValue: function(name) {","        var command = this.styleCommands[name],","            range = this.selection.range(),","            parentNode, styleNode, value;","","        if (!command) {","            return Y.Editor.Base.prototype._queryCommandValue.call(this, name);","        }","","        if (range) {","            parentNode = range.shrink().parentNode();","","            // first attempt to get any explicitly styled ancestor for","            // the given property. Need to do this first because browsers","            // sometimes return different values for explicit style vs.","            // computed style. `font-weight: bold;` for example will return","            // `bold` in all browsers when explicitly set but `700` in","            // Firefox and Internet Explorer with computedStyle.","            styleNode = this._getStyledAncestor(parentNode, command.property, true);","","            if (!styleNode) {","                // no explicitly styled ancestor found. walk the","                // ancestor tree to find the closest element","                // node ancestor, inclusive of the parentNode","                styleNode = EDOM.getAncestorElement(parentNode);","            }","","            // getStyle will fall back to computedStyle if the","            // property isn't explicitly set","            value = styleNode.getStyle(command.property);","","            if (this.boolCommands[name]) {","                value = (value === command.valueOn);","            }","        }","","        return value;","    }","});","","Y.namespace('Editor').Style = EditorStyle;","","}());","","","}, '@VERSION@', {\"requires\": [\"gallery-sm-editor-base\", \"gallery-sm-editor-dom\", \"node-style\"]});","","}());"]};
}
var __cov_wmlF9lLOlWpDUCM9WemJFA = __coverage__['build/gallery-sm-editor-style/gallery-sm-editor-style.js'];
__cov_wmlF9lLOlWpDUCM9WemJFA.s['1']++;YUI.add('gallery-sm-editor-style',function(Y,NAME){__cov_wmlF9lLOlWpDUCM9WemJFA.f['1']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['2']++;(function(){__cov_wmlF9lLOlWpDUCM9WemJFA.f['2']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['3']++;var EDOM=Y.Editor.DOM;__cov_wmlF9lLOlWpDUCM9WemJFA.s['4']++;var EditorStyle=Y.Base.create('editorStyle',Y.Base,[],{styleCommands:{bold:{property:'fontWeight',valueOn:'bold',valueOff:'normal'},fontName:{property:'fontFamily'},fontSize:{property:'fontSize'},italic:{property:'fontStyle',valueOn:'italic',valueOff:'normal'},underline:{property:'textDecoration',valueOn:'underline',valueOff:'none'}},bold:function(){__cov_wmlF9lLOlWpDUCM9WemJFA.f['3']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['5']++;this.command('bold','toggle');__cov_wmlF9lLOlWpDUCM9WemJFA.s['6']++;return this;},italic:function(){__cov_wmlF9lLOlWpDUCM9WemJFA.f['4']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['7']++;this.command('italic','toggle');__cov_wmlF9lLOlWpDUCM9WemJFA.s['8']++;return this;},styles:function(styles){__cov_wmlF9lLOlWpDUCM9WemJFA.f['5']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['9']++;var results={},name;__cov_wmlF9lLOlWpDUCM9WemJFA.s['10']++;if(styles){__cov_wmlF9lLOlWpDUCM9WemJFA.b['1'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['11']++;for(name in styles){__cov_wmlF9lLOlWpDUCM9WemJFA.s['12']++;if(styles.hasOwnProperty(name)){__cov_wmlF9lLOlWpDUCM9WemJFA.b['2'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['13']++;results[name]=this.command(name,styles[name]);}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['2'][1]++;}}}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['1'][1]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['14']++;var commands=this.styleCommands;__cov_wmlF9lLOlWpDUCM9WemJFA.s['15']++;for(name in commands){__cov_wmlF9lLOlWpDUCM9WemJFA.s['16']++;if(commands.hasOwnProperty(name)){__cov_wmlF9lLOlWpDUCM9WemJFA.b['3'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['17']++;results[name]=this._queryCommandValue(name);}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['3'][1]++;}}}__cov_wmlF9lLOlWpDUCM9WemJFA.s['18']++;return results;},underline:function(){__cov_wmlF9lLOlWpDUCM9WemJFA.f['6']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['19']++;this.command('underline','toggle');__cov_wmlF9lLOlWpDUCM9WemJFA.s['20']++;return this;},_cleanRange:function(range,properties){__cov_wmlF9lLOlWpDUCM9WemJFA.f['7']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['21']++;var rootNode=range.parentNode(),styleCommands=this.styleCommands;__cov_wmlF9lLOlWpDUCM9WemJFA.s['22']++;properties=Y.Array(properties);__cov_wmlF9lLOlWpDUCM9WemJFA.s['23']++;function hasStyles(node){__cov_wmlF9lLOlWpDUCM9WemJFA.f['8']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['24']++;return Y.Object.some(styleCommands,function(cmd){__cov_wmlF9lLOlWpDUCM9WemJFA.f['9']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['25']++;return''!==node._node.style[cmd.property];});}__cov_wmlF9lLOlWpDUCM9WemJFA.s['26']++;function clean(node){__cov_wmlF9lLOlWpDUCM9WemJFA.f['10']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['27']++;if(!EDOM.isElementNode(node)){__cov_wmlF9lLOlWpDUCM9WemJFA.b['4'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['28']++;return;}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['4'][1]++;}__cov_wmlF9lLOlWpDUCM9WemJFA.s['29']++;if(''===node.get('text')){__cov_wmlF9lLOlWpDUCM9WemJFA.b['5'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['30']++;node.remove(true);}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['5'][1]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['31']++;Y.Array.each(properties,function(style){__cov_wmlF9lLOlWpDUCM9WemJFA.f['11']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['32']++;node.setStyle(style,'');});__cov_wmlF9lLOlWpDUCM9WemJFA.s['33']++;node.get('children').each(clean);__cov_wmlF9lLOlWpDUCM9WemJFA.s['34']++;if(!hasStyles(node)){__cov_wmlF9lLOlWpDUCM9WemJFA.b['6'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['35']++;EDOM.unwrap(node);}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['6'][1]++;}}}__cov_wmlF9lLOlWpDUCM9WemJFA.s['36']++;rootNode.get('children').each(clean);__cov_wmlF9lLOlWpDUCM9WemJFA.s['37']++;if(!hasStyles(rootNode)){__cov_wmlF9lLOlWpDUCM9WemJFA.b['7'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['38']++;range=EDOM.unwrap(rootNode);}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['7'][1]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['39']++;range.selectNodeContents(rootNode);}__cov_wmlF9lLOlWpDUCM9WemJFA.s['40']++;return range;},_execCommand:function(name,value){__cov_wmlF9lLOlWpDUCM9WemJFA.f['12']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['41']++;var command=this.styleCommands[name],range=this.selection.range(),parentNode,styleNode;__cov_wmlF9lLOlWpDUCM9WemJFA.s['42']++;if(!command){__cov_wmlF9lLOlWpDUCM9WemJFA.b['8'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['43']++;return Y.Editor.Base.prototype._execCommand.call(this,name,value);}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['8'][1]++;}__cov_wmlF9lLOlWpDUCM9WemJFA.s['44']++;if(!range){__cov_wmlF9lLOlWpDUCM9WemJFA.b['9'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['45']++;return;}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['9'][1]++;}__cov_wmlF9lLOlWpDUCM9WemJFA.s['46']++;parentNode=EDOM.getAncestorElement(range.parentNode());__cov_wmlF9lLOlWpDUCM9WemJFA.s['47']++;if((__cov_wmlF9lLOlWpDUCM9WemJFA.b['11'][0]++,parentNode!==this._inputNode)&&(__cov_wmlF9lLOlWpDUCM9WemJFA.b['11'][1]++,parentNode.get('text')===range.toString())){__cov_wmlF9lLOlWpDUCM9WemJFA.b['10'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['48']++;styleNode=parentNode;}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['10'][1]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['49']++;styleNode=range.wrap('<span>');}__cov_wmlF9lLOlWpDUCM9WemJFA.s['50']++;if(this.boolCommands[name]){__cov_wmlF9lLOlWpDUCM9WemJFA.b['12'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['51']++;if(this._queryCommandValue(name)){__cov_wmlF9lLOlWpDUCM9WemJFA.b['13'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['52']++;value=this._getStyledAncestor(styleNode,command.property)?(__cov_wmlF9lLOlWpDUCM9WemJFA.b['14'][0]++,command.valueOff):(__cov_wmlF9lLOlWpDUCM9WemJFA.b['14'][1]++,'');}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['13'][1]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['53']++;value=(__cov_wmlF9lLOlWpDUCM9WemJFA.b['15'][0]++,command.valueOn)||(__cov_wmlF9lLOlWpDUCM9WemJFA.b['15'][1]++,value);}}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['12'][1]++;}__cov_wmlF9lLOlWpDUCM9WemJFA.s['54']++;styleNode.setStyle(command.property,value);__cov_wmlF9lLOlWpDUCM9WemJFA.s['55']++;range.selectNodeContents(styleNode);__cov_wmlF9lLOlWpDUCM9WemJFA.s['56']++;range=this._cleanRange(range,command.property);__cov_wmlF9lLOlWpDUCM9WemJFA.s['57']++;this.selection.select(range);},_getStyledAncestor:function(startNode,property,self){__cov_wmlF9lLOlWpDUCM9WemJFA.f['13']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['58']++;return startNode.ancestor(function(node){__cov_wmlF9lLOlWpDUCM9WemJFA.f['14']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['59']++;if(!EDOM.isElementNode(node)){__cov_wmlF9lLOlWpDUCM9WemJFA.b['16'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['60']++;return false;}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['16'][1]++;}__cov_wmlF9lLOlWpDUCM9WemJFA.s['61']++;return!!node._node.style[property];},self,this.selectors.input);},_queryCommandValue:function(name){__cov_wmlF9lLOlWpDUCM9WemJFA.f['15']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['62']++;var command=this.styleCommands[name],range=this.selection.range(),parentNode,styleNode,value;__cov_wmlF9lLOlWpDUCM9WemJFA.s['63']++;if(!command){__cov_wmlF9lLOlWpDUCM9WemJFA.b['17'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['64']++;return Y.Editor.Base.prototype._queryCommandValue.call(this,name);}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['17'][1]++;}__cov_wmlF9lLOlWpDUCM9WemJFA.s['65']++;if(range){__cov_wmlF9lLOlWpDUCM9WemJFA.b['18'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['66']++;parentNode=range.shrink().parentNode();__cov_wmlF9lLOlWpDUCM9WemJFA.s['67']++;styleNode=this._getStyledAncestor(parentNode,command.property,true);__cov_wmlF9lLOlWpDUCM9WemJFA.s['68']++;if(!styleNode){__cov_wmlF9lLOlWpDUCM9WemJFA.b['19'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['69']++;styleNode=EDOM.getAncestorElement(parentNode);}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['19'][1]++;}__cov_wmlF9lLOlWpDUCM9WemJFA.s['70']++;value=styleNode.getStyle(command.property);__cov_wmlF9lLOlWpDUCM9WemJFA.s['71']++;if(this.boolCommands[name]){__cov_wmlF9lLOlWpDUCM9WemJFA.b['20'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['72']++;value=value===command.valueOn;}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['20'][1]++;}}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['18'][1]++;}__cov_wmlF9lLOlWpDUCM9WemJFA.s['73']++;return value;}});__cov_wmlF9lLOlWpDUCM9WemJFA.s['74']++;Y.namespace('Editor').Style=EditorStyle;}());},'@VERSION@',{'requires':['gallery-sm-editor-base','gallery-sm-editor-dom','node-style']});
